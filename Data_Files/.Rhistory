knitr::opts_chunk$set(echo = TRUE)
cqcData = read.csv("/home/ojba/Documents/University_Work/DALT7016/rshiny_NHS_data/Data_Files/cqc_lat_long.csv")
cqcData = read.csv("/home/ojba/Documents/University_Work/DALT7016/rshiny_NHS_data/Data_Files/cqc_long_lat.csv")
names(cqcData)
unqiue(cqcData$Location.Region)
values(cqcData$Location.Region)
unique(cqcData$Location.Region)
unique(cqcData$Domain)
shape(cqcData)
cqcData.shape()
dim(cqcData)
library(dplyr)
names(cqcData)
cqcData %>% count(Latest.Rating)
total_ratings = cqcData %>% count(Latest.Rating)
plot(total_ratings)
barplot(total_ratings)
hist(total_ratings)
total_ratings
hist(total_ratings$n)
hist(total_rating$Latest.Rating)
total_ratings = cqcData %>% count(Latest.Rating)
hist(total_rating$Latest.Rating)
hist(total_ratings$Latest.Rating)
hist(total_ratings$n)
total_ratings = cqcData %>% count(Latest.Rating)
total_ratings
ggplot(data  = total_ratings, aes(x = Latest.Rating, y = n)) + geom_bar(stat = "n")
library(ggplot2)
ggplot(data  = total_ratings, aes(x = Latest.Rating, y = n)) + geom_bar(stat = "n")
ggplot(data  = total_ratings, aes(x = Latest.Rating, y = n)) + geom_bar()
ggplot(data  = total_ratings, aes(x = Latest.Rating, y = n))
ggplot(data  = total_ratings, aes(x = Latest.Rating, y = n)) + geom_bar(stat = "count")
ggplot(data  = total_ratings, aes(x = Latest.Rating, y = n)) + geom_bar(data = "total_ratings", stat = "count")
geom_bar()
geom_bar(data = total_ratings)
ggplot(data  = total_ratings, aes(x = Latest.Rating, y = n)) + geom_bar(stat = "identity")
ggplot(data = total_ratings, aes(x = Latest.Rating, y = n)) + geom_bar(stat = "identity")
ggplot(data = total_ratings, aes(x = Latest.Rating, y = n), color = "blue") + geom_bar(stat = "identity")
ggplot(data = total_ratings, aes(x = Latest.Rating, y = n), ) + geom_bar(stat = "identity", color = "blue")
ggplot(data = total_ratings, aes(x = Latest.Rating, y = n) ) + geom_bar(stat = "identity", color = "blue", fill = "blur")
ggplot(data = total_ratings, aes(x = Latest.Rating, y = n) ) + geom_bar(stat = "identity", color = "blue", fill = "blue")
by_region = cqcData %>% summarise(Location.Region)
by_region
by_region = cqcData %>% count(Location.Region, Latest.Rating)
by_region
ggplot(data = by_region, aes(x = Location.Region, y = n)) + geom_bar(stat = "identity")
ggplot(data = by_region, aes(x = Location.Region, y = n)) + geom_bar(stat = "identity", width = 1)
ggplot(data = by_region, aes(x = Location.Region, y = n)) + geom_bar(stat = "identity", width = 0.1)
ggplot(data = by_region, aes(x = Location.Region, y = n)) + geom_bar(stat = "identity", width = 0.2)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_bar(stat = "identity", width = 0.2)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_bar(position="doge", stat = "identity", width = 0.2)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_bar(position="dodge", stat = "identity", width = 0.2)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_bar(position="dodge", stat = "identity", width = 1)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_bar(position="dodge", stat = "identity", width = 1)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 10) + geom_bar(position="dodge", stat = "identity", width = 1)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, wjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 2))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 2, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
cqcData$Location.Region
cqcData[which(cqcData$Location.Region == "Yorkshire and The Humber"), ]
cqcData[which(cqcData$Location.Region == "Yorkshire and The Humber"), ]$Latest.Rating
cqcData[which(cqcData$Location.Region == "Yorkshire and The Humber"), ]$Latest.Rating == "Good"
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
by_region
by_region$Location.Region
by_region$Location.Region == "Yorkshire and The Humber"
by_region[which(by_region$Location.Region == "Yorkshire and The Humber"), ]
cqcData = cqcData[which(cqcData$Location.Region!="(pseudo) Wales"), ]
dim(cqcData)
total_ratings = cqcData %>% count(Latest.Rating)
ggplot(data = total_ratings, aes(x = Latest.Rating, y = n) ) + geom_bar(stat = "identity", color = "blue", fill = "blue")
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) #+ theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 100) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 1000) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
by_region
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T) %>% group_by(Location.Region)
by_region
by_region = cqcData %>% count(Latest.Rating, Location.Region, sort = T)
by_region
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T)
by_region
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T) %>% summarise()
by_region
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 1000) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
by_region
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T) %>% sort(Location.Region)
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T) %>% arrange(Location.Region)
by_region
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T) %>% arrange(Location.Region)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 1000) + geom_bar(position="dodge", stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 1000) + geom_bar( stat = "identity", width = 1) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 1000) + geom_bar( stat = "identity", width = 0.5) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T) %>% arrange(Latest.Rating)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 1000) + geom_bar( stat = "identity", width = 0.5) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region) + geom_bar(aes(y = n, x = Location.Region, fill = Latest.Rating)) + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n), width = 1000) + geom_bar(position = "fill") + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
by_region = cqcData %>% count(Location.Region, Latest.Rating, sort = T) %>% arrange(Latest.Rating)
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_bar(position = "fill")
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n))# + geom_bar(position = "fill")
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_col(position = "fill")
ggplot(data = by_region, aes(fill = Latest.Rating, x = Location.Region, y = n)) + geom_col(position = "fill") + theme(axis.text.x = element_text(angle = 45, hjust = 1, vjust = 1))
is.na(cqcData$Location.Region)
sum(is.na(cqcData$Location.Region))
sum(is.na(cqcData$Location.Post.Code))
sum(is.na(cqcData$Latest.Rating))
sum(is.na(cqcData$lat))
sum(is.na(cqcData$long))
sum(is.na(cqcData$Location.Name))
sum(is.na(cqcData$Provider.Name))
sum(is.na(cqcData$URL))
missingLatLong = cqcData[which(is.na(cqcData$lat) & is.na(cqcData$long)), ]
missingLatLong
missingLatLong$Location.Post.Code
missingLatLong$Location.ID
sum(cqcData[which(cqcData$Location.Post.Code == "WF10 4JH"), ])
cqcData[which(cqcData$Location.Post.Code == "WF10 4JH"), ]
cqcData[which(cqcData$Location.Post.Code == "WF10 "), ]
